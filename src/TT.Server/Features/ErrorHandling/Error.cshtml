@model TT.Server.Features.ErrorHandling.ErrorDetail

@{
ViewBag.Title = "Error";
}
<div class="container-inner" style="padding: 20px;">
    <hgroup class="title">
        <h1 class="error">Juderp!</h1>
        <h2 class="error">An error occurred while processing your request.</h2>
        <p>You might still be able to use certain portions of the site:</p>
        <p><a asp-controller="Chat" asp-action="Index" asp-route-room="global" target="_blank">Global Chat</a></p>
        <p><a asp-controller="Messages" asp-action="Index">Inbox</a></p>
        <p><a asp-controller="Contribution" asp-action="Contribute">Submit Content</a></p>

        <p>
            The following information can be used by developers to resolve this issue.
            Please repost this on <a href="https://discord.gg/z66CYzX">Discord</a> or <a href="https://gitlab.com/transformania/tt-game/-/issues">GitLab</a>
            so we may better assess the problem.
        </p>

        <h3>Request ID</h3>
        <pre>@Model.RequestId</pre>
        <br/>

        <h3>Error message</h3>
        <pre>@Model.Message</pre>
        <br/>

        <h3>Inner exception</h3>
        <pre>@Model.InnerException</pre>
        <br/>

        <h3>Stack trace</h3>
        <pre>@Model.StackTrace</pre>

        @try
        {
        if (User.IsInRole(TT.Domain.Statics.PvPStatics.Permissions_Killswitcher))
        {
        <p class="bad">
            Activate this link when and ONLY when you and a number of animate players are receiving error screens and are unable to play.
            Clicking this link will temporarily disable turn updates so bots do not attacker players who are incapable of responding.
            <a asp-controller="PvPAdmin" asp-action="Killswitch">CLICK HERE TO ACTIVATE KILLSWITCH.</a>
        </p>
        }
        }
        catch
        {
        <p>Error fetching role</p>
        }
    </hgroup>
</div>